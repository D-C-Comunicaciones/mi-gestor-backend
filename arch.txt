          ┌───────────────┐
          │   Frontend    │
          └───────┬───────┘
                  │
          ┌───────▼───────┐
          │ LoansService  │
          │ (create loan) │
          └───────┬───────┘
                  │
   Crea préstamo + primera cuota
                  │
                  ▼
         ┌─────────────────┐
         │ InstallmentsSvc │
         │ createFirstInst │
         └───────┬─────────┘
                 │
   ┌─────────────┴─────────────┐
   │ Publica mensaje en Rabbit │
   │ loanInstallmentsQueue      │
   └─────────────┬─────────────┘
                 │
                 ▼
        ┌─────────────────┐
        │ RabbitMQ Queue  │
        │ loanInstallments│
        └───────┬─────────┘
                │
                ▼
      ┌─────────────────────┐
      │ LoanInstallmentWorker│
      │ (cada 12h consume   │
      │  cola y genera la   │
      │  siguiente cuota)   │
      └─────────┬───────────┘
                │
      Crea siguiente cuota según
      tipo de crédito y frecuencia
                │
                ▼
        ┌───────────────┐
        │   Database    │
        │ installments  │
        │   loan.nextDueDate
        └───────────────┘
                │
                ▼
     ┌─────────────────────┐
     │ RabbitMQ (cola      │
     │ loanOverdueQueue)   │
     │ para cuotas vencidas│
     └─────────┬───────────┘
               │
               ▼
     ┌─────────────────────┐
     │ LoanOverdueWorker   │
     │ (cada 12h consume   │
     │  cola y aplica      │
     │  intereses moratorios)
     └─────────────────────┘
